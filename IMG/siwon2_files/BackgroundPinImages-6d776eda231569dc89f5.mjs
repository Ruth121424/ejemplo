(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([["BackgroundPinImages"],{"2MPc":function(t,e,i){var a=i("JW66"),n=i("QLqj"),g=i("28DW"),c=i("0G5S");const h=(t,e=604800)=>{const i=Object(c.a)(t);return i&&Date.now()-parseInt(i,10)>1e3*e},s={logUrlAndFirstPinImageSig(t){if(n.b.localStorage.getItem("lastVisitedPage")===window.location.pathname)return;const e={path:window.location.pathname,ts:Date.now(),first_pin_image_signature:t||""};n.b.localStorage.prependItem("visitedPages",e,a.a.MAX_STORED_VISITED_PAGES),n.b.sessionStorage.prependItem("sessionVisitedPages",e,a.a.MAX_STORED_VISITED_PAGES),Object(g.a)("unauth.web.session.visited_pins."+(n.b.sessionStorage.getItem("sessionVisitedPages")||[]).length),n.b.localStorage.prependItem("visitedPagesBeforeLogin",e,a.a.MAX_STORED_VISITED_PAGES);try{n.b.localStorage.setItem("lastVisitedPage",window.location.pathname)}catch(i){console.error(i)}},logLastVisitedPinLandingPage(t,e){if(!t)return;const i=n.b.localStorage.getItem("visitedPinLandingPagesBeforeLogin");if(i)for(const a of i)if(a&&a.id===t.id)return;const g={ts:Date.now(),path:window.location.pathname,id:t.id,image_signature:t.image_signature,is_shared_pin:e};n.b.localStorage.prependItem("visitedPinLandingPagesBeforeLogin",g,a.a.MAX_STORED_VISITED_PIN_PAGES)},logLastVisitedBoardLandingPage(t){if(!t||!t.board)return;const e=n.b.localStorage.getItem("visitedBoardLandingPagesBeforeLogin");if(e)for(const a of e)if(a&&a.board_id===t.board.id)return;const i={ts:Date.now(),board_id:t.board.id,first_pin_id:t.id,first_pin_image_signature:t.image_signature};n.b.localStorage.prependItem("visitedBoardLandingPagesBeforeLogin",i,a.a.MAX_STORED_VISITED_PIN_PAGES)},logPinCTAClick(t){n.b.localStorage.prependItem("visitedPages",{path:t,ts:Date.now(),actions:[1]},a.a.MAX_STORED_VISITED_PAGES)},logUnauthPins(t,e=!0){if(t.length)try{n.b.localStorage.setItem("unauthPins",t),e&&n.b.sessionStorage.prependItem("sessionUnauthPins",t[0])}catch(i){console.error(i)}},getUnauthPins:()=>n.b.localStorage.getItem("unauthPins")||[],getUnauthSessionsPins:()=>n.b.sessionStorage.getItem("sessionUnauthPins")||[],getUnauthClickthroughCount(t=604800){const e=n.b.localStorage.getItem("unauthHybridClickthroughCount");return h("unauthHybridClickthroughTS",t)||!e?0:parseInt(e,10)||0},logUnauthHybridClickthrough(t=604800){const e=this.getUnauthClickthroughCount();if(h("unauthHybridClickthroughTS",t)||!e)try{n.b.localStorage.setItem("unauthHybridClickthroughCount",1),n.b.localStorage.setItem("unauthHybridClickthroughTS",Date.now())}catch(i){console.error(i)}else try{n.b.localStorage.setItem("unauthHybridClickthroughCount",e+1)}catch(i){console.error(i)}},logLoginSignupModalView(){try{n.b.localStorage.setItem("unauthHybridLoginModalView",Date.now())}catch(t){console.error(t)}},getLoginSignupModalView:()=>n.b.localStorage.getItem("unauthHybridLoginModalView")||0};e.a=s},L2Gz:function(t,e,i){i.d(e,"b",(function(){return n})),i.d(e,"a",(function(){return c})),i.d(e,"d",(function(){return h})),i.d(e,"e",(function(){return s})),i.d(e,"c",(function(){return d}));var a=i("QLqj");function n(t,e){return t.some(t=>t.id===e.id)}function g(t){const e=[];if(t){const i=72e5,a=Date.now()-i;for(const n of t)n.ts>=a&&("string"==typeof n.image_signature&&e.push(n.image_signature),"string"==typeof n.first_pin_image_signature&&e.push(n.first_pin_image_signature))}return e}function c(){return{plpImages:g(a.b.localStorage.getItem("visitedPinLandingPagesBeforeLogin")||[]),blpImages:g(a.b.localStorage.getItem("visitedBoardLandingPagesBeforeLogin")||[])}}function h(t){return t.url.split("/").pop().replace(/(--.*|\.jpg)$/g,"")}function s(t){const e=t.log_data;return e&&JSON.parse(e).source||""}const o=5e-4;function d(t,e=o){const i=t=>{const e=t.toString(16);return 1===e.length?"0"+e:e},a=(t,e,a)=>"#"+i(t)+i(e)+i(a),n=(t=>{const e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e&&[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]})(t);if(!n)return t;const[g,c,h]=n;if(g/255**2.2*.2126+c/255**2.2*.7151+h/255**2.2*.0721<=e)return a(g,c,h);const s=(e/(g/255**2.2*.2126+c/255**2.2*.7151+h/255**2.2*.0721))**(1/2.2);return a(Math.floor(s*g),Math.floor(s*c),Math.floor(s*h))}},Vs9j:function(t,e,i){i.r(e);var a=i("q1tI"),n=i.n(a),g=i("/MKj"),c=i("apFM"),h=i("2MPc"),s=i("L2Gz"),o=i("n6mq"),d=i("yjg8");function r(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}e.default=Object(g.connect)(t=>({nuxSelectedInterestImages:t.ui.nuxSelectedInterestImages&&t.ui.nuxSelectedInterestImages.images,nuxStep:t.ui.nuxProgress&&t.ui.nuxProgress.step}),()=>({}))(class extends a.PureComponent{constructor(...t){super(...t),r(this,"state",{insertedBestPinsImages:[],insertedTopicImages:[],loading:!0,pinImages:[],seoPinImage:void 0}),r(this,"insertExtraImages",t=>this.setState({...t})),r(this,"getSEOPinImageToInsert",()=>{const{inNux:t,inRenux:e}=this.props;return t||e?this.getUnauthPinImages()[0]:void 0}),r(this,"getUnauthPinImages",(t=!1)=>{const e=t?h.a.getUnauthSessionsPins():h.a.getUnauthPins(),i=new Set;return e.filter(t=>t.images&&t.images["236x"]).map(t=>t.images["236x"]).filter(t=>{const e=i.has(t.url);return i.add(t.url),!e})}),r(this,"renderPinImage",t=>{const{data:e}=t,{height:i,url:a,width:g}=e;return n.a.createElement(o.y,{rounding:4,wash:!0},n.a.createElement(o.t,{alt:"pin-image",src:a,naturalWidth:g,naturalHeight:i}))}),r(this,"getBackgroundImages",()=>{const{insertedBestPinsImages:t,insertedTopicImages:e,pinImages:i,seoPinImage:a}=this.state,n=e.length+(a?1:0);let g=[];return g=(g=(g=(g=g.concat(a||[])).concat(t)).concat(e)).concat(i.slice(n))})}componentDidMount(){const{defaultPinImages:t}=this.props,e=t?[...t]:c.a,i=this.getSEOPinImageToInsert();i&&e.unshift(i),this.setState({loading:!1,pinImages:e,seoPinImage:i})}componentDidUpdate(t){const{inNux:e,inRenux:i,nuxSelectedInterestImages:a,nuxStep:n}=this.props,g=t.nuxSelectedInterestImages,{seoPinImage:c}=this.state;if(g&&a&&g!==a){let t=[];if(e){a.length>g.length&&e&&(t=a[a.length-1].bestPinsImages||[])}const h=(e||i)&&"topic"===n&&0===t.length?a.filter(t=>!c||Object(s.d)(t)!==Object(s.d)(c)):[];this.insertExtraImages({insertedTopicImages:h,insertedBestPinsImages:t})}}render(){const{isFlexible:t}=this.props,{loading:e}=this.state,i=this.getBackgroundImages();return!e&&i&&n.a.createElement(o.d,{bottom:!0,left:!0,maxHeight:2500,overflow:"hidden",paddingY:6,paddingX:5,position:"absolute",right:!0,top:!0,dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}}},n.a.createElement(o.z,{comp:t=>this.renderPinImage(t),flexible:!!t,gutterWidth:Object(d.m)(!0,!0),items:i,minCols:d.i}))}})},apFM:function(t,e,i){e.a=[{url:"https://i.pinimg.com/236x/b3/41/6e/b3416e2688aa4d20f846aeb8127e6b3b.jpg",width:236,height:354},{url:"https://i.pinimg.com/236x/23/ad/5f/23ad5fc40270120b22bea471fe3656aa.jpg",width:236,height:354},{url:"https://i.pinimg.com/236x/83/39/1e/83391e3103e17a46e2733b09bf154a06.jpg",width:236,height:156},{url:"https://i.pinimg.com/236x/87/f7/b5/87f7b55bc3de78ef95fd36fa3a237172.jpg",width:236,height:157},{url:"https://i.pinimg.com/236x/d3/49/07/d34907c96950574c15719219e0f0dd69.jpg",width:236,height:295},{url:"https://i.pinimg.com/236x/49/ad/71/49ad71817c829e8d86ca16fa6508b0c4.jpg",width:236,height:314},{url:"https://i.pinimg.com/236x/a8/7f/53/a87f53ea636966bf24cf279ed2fdc4dc.jpg",width:236,height:314},{url:"https://i.pinimg.com/236x/36/67/b4/3667b449f3cacaaeef3f68fc9cf609be.jpg",width:236,height:354},{url:"https://i.pinimg.com/236x/9d/4f/43/9d4f43222d4fc694a61f7635f2d42892.jpg",width:236,height:354},{url:"https://i.pinimg.com/236x/48/d9/f0/48d9f0a63ac5c08b1cf2608ceb4a884f.jpg",width:236,height:419},{url:"https://i.pinimg.com/236x/3e/08/94/3e0894b99543507463864c64c6b3af49.jpg",width:236,height:354},{url:"https://i.pinimg.com/236x/4b/a4/97/4ba49798105ddfc0bfd11a980f18590f.jpg",width:236,height:354},{url:"https://i.pinimg.com/236x/b9/e9/8f/b9e98fe7ff81c026b488997900eb25fa.jpg",width:236,height:314},{url:"https://i.pinimg.com/236x/96/e0/4a/96e04ac53becd9f522988fc27343ac6e.jpg",width:236,height:354},{url:"https://i.pinimg.com/236x/5a/f5/9e/5af59e46be8a92abd880031be67ce4cc.jpg",width:236,height:353},{url:"https://i.pinimg.com/236x/71/f2/e6/71f2e6a1a13223864dd833bc128f8e2f.jpg",width:236,height:354},{url:"https://i.pinimg.com/236x/db/b2/09/dbb2099909d25dd45d3df4950429312d.jpg",width:236,height:309},{url:"https://i.pinimg.com/236x/d7/f9/b0/d7f9b0f7dc0536e923026e6af91c61d5.jpg",width:236,height:353},{url:"https://i.pinimg.com/236x/4b/6e/36/4b6e36884909d421e250050db82d013b.jpg",width:236,height:354},{url:"https://i.pinimg.com/236x/0b/85/ca/0b85ca13cbf16fa3017164b9c4b65923.jpg",width:236,height:354},{url:"https://i.pinimg.com/236x/28/d9/35/28d935a8f25905a6989709b21241e4d2.jpg",width:236,height:354},{url:"https://i.pinimg.com/236x/94/e5/fb/94e5fb084bb73b1237a73fc83eb07b45.jpg",width:236,height:354},{url:"https://i.pinimg.com/236x/ec/c7/66/ecc766782029713523ae6a5bd8544045.jpg",width:236,height:353},{url:"https://i.pinimg.com/236x/1a/c5/72/1ac572b1643cf518ef06139eca46dd1d.jpg",width:236,height:354},{url:"https://i.pinimg.com/236x/d1/8f/f9/d18ff9eaec83c75b878eebb899604b8e.jpg",width:236,height:354},{url:"https://i.pinimg.com/236x/b3/41/6e/b3416e2688aa4d20f846aeb8127e6b3b.jpg",width:236,height:354},{url:"https://i.pinimg.com/236x/23/ad/5f/23ad5fc40270120b22bea471fe3656aa.jpg",width:236,height:354},{url:"https://i.pinimg.com/236x/8f/e5/32/8fe532eea42b7c8b14947a2ced8b127d.jpg",width:236,height:354},{url:"https://i.pinimg.com/236x/29/6d/a2/296da26a335fd7079e6355225c051cf3.jpg",width:236,height:353},{url:"https://i.pinimg.com/236x/cd/53/e3/cd53e3b9ad897d5c5588094f446cbc2a.jpg",width:236,height:157},{url:"https://i.pinimg.com/236x/18/54/21/1854212e113994080084b4666b23fcc5.jpg",width:236,height:353},{url:"https://i.pinimg.com/236x/cf/0c/45/cf0c451732bb352b3c96d1951ea632dd.jpg",width:236,height:354},{url:"https://i.pinimg.com/236x/d0/e9/ee/d0e9ee92a6398e6b31b1515c2ec6ab5e.jpg",width:236,height:157},{url:"https://i.pinimg.com/236x/8d/8c/86/8d8c86e41d810497a7b60c5a0e58a95f.jpg",width:236,height:157},{url:"https://i.pinimg.com/236x/57/0c/d6/570cd6ac36a208808edabf74682cca8d.jpg",width:236,height:314},{url:"https://i.pinimg.com/236x/bd/57/32/bd5732c8291d05e8982662a1ee043411.jpg",width:236,height:188},{url:"https://i.pinimg.com/236x/1b/10/5e/1b105ea0da81722178e23c5438fb68d7.jpg",width:236,height:157},{url:"https://i.pinimg.com/236x/ee/2d/d3/ee2dd31a93246fb72490c012b16eefca.jpg",width:236,height:354},{url:"https://i.pinimg.com/236x/81/8a/ca/818aca5d5303c60bff125a5acc322fc0.jpg",width:236,height:295},{url:"https://i.pinimg.com/236x/c6/bc/64/c6bc64acbaab2cca4f9166539ff36621.jpg",width:236,height:353},{url:"https://i.pinimg.com/236x/d7/38/27/d73827a583f46fbeaf282acc001eb733.jpg",width:236,height:353},{url:"https://i.pinimg.com/236x/2a/02/05/2a0205019cb0cb1ea0baa9b95eb78ab8.jpg",width:236,height:256},{url:"https://i.pinimg.com/236x/60/81/65/60816514dcfcbcab0df772dc78ca8ed1.jpg",width:236,height:157},{url:"https://i.pinimg.com/236x/0d/2f/fb/0d2ffbcdcc414765ef441752b423a6ad.jpg",width:236,height:353},{url:"https://i.pinimg.com/236x/d0/97/0b/d0970b1c57a50afa4d6951d8b0657715.jpg",width:236,height:157},{url:"https://i.pinimg.com/236x/7d/c5/99/7dc599bce4115d38ee5b91dcd8769543.jpg",width:236,height:157},{url:"https://i.pinimg.com/236x/70/0e/56/700e56a3bccb989ab88819ade445e86e.jpg",width:236,height:354},{url:"https://i.pinimg.com/236x/ff/73/ab/ff73ab3256bbcf8abce0febb98939e4f.jpg",width:236,height:354},{url:"https://i.pinimg.com/236x/e7/1b/ba/e71bbaca118e1ae09f01bcc45b58229f.jpg",width:236,height:185},{url:"https://i.pinimg.com/236x/37/af/bf/37afbf3c16baf0f70dc083b6c6ffecec.jpg",width:236,height:298},{url:"https://i.pinimg.com/236x/64/9d/1b/649d1b77d8b28995b2902b89001f912c.jpg",width:236,height:157},{url:"https://i.pinimg.com/236x/8f/e5/32/8fe532eea42b7c8b14947a2ced8b127d.jpg",width:236,height:354},{url:"https://i.pinimg.com/236x/fc/5f/44/fc5f44cd50535f378b1e09d11433c1a8.jpg",width:236,height:330},{url:"https://i.pinimg.com/236x/21/af/78/21af78021ad083377aa3e36ae6f09fc2.jpg",width:236,height:314},{url:"https://i.pinimg.com/236x/06/41/9c/06419c4e4165596f77d721d88665e4e7.jpg",width:236,height:157},{url:"https://i.pinimg.com/236x/2a/9e/80/2a9e80b4714ac32943ddec01399b5387.jpg",width:236,height:156},{url:"https://i.pinimg.com/236x/fc/5f/44/fc5f44cd50535f378b1e09d11433c1a8.jpg",width:236,height:330}]}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/js/BackgroundPinImages-6d776eda231569dc89f5.mjs.map